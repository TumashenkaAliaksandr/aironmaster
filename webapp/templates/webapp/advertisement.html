{% extends 'main/base.html' %}
{% load custom_filters %}
{% load static %}

{% block content %}
    <nav aria-label="breadcrumb" class="breadcrumb breadcrumps">
        <ol>
            <li><a href="{% url 'index' %}">–ì–ª–∞–≤–Ω–∞—è</a></li>
            <li>–†–µ–∫–ª–∞–º–∞</li>
        </ol>
    </nav>

    <section class="advertisement-bg">
        <div class="laser-cutting-ad">
            <div class="header-with-icon" style="display: flex; align-items: center; gap: 15px;">
                    <img src="{% static 'webapp/icons/laser-warning-svgrepo-com.svg' %}" alt="–õ–∞–∑–µ—Ä–Ω–∞—è —Ä–µ–∑–∫–∞ –ø–æ –º–µ—Ç–∞–ª–ª—É"
                         class="size-icon"/>
                <h1 style="margin: 0;">{{ advertisement.title }}</h1>
            </div>

            <div class="gradient-advertisement"></div>

            <p>{{ advertisement.description }}</p>

            <div class="ad-features">
                <ul>
                    {% for advantage in advertisement.advantages|linebreaksbr|safe|splitlines %}
                        <li>{{ advantage|safe }}</li>
                    {% empty %}
                        <li>‚úîÔ∏è –í—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –∏ —á–∏—Å—Ç–æ—Ç–∞ —Ä–µ–∑–∞ –ø–æ –º–µ—Ç–∞–ª–ª—É</li>
                        <li>‚úîÔ∏è –†–∞–±–æ—Ç–∞ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –≤–∏–¥–∞–º–∏ –º–µ—Ç–∞–ª–ª–æ–≤</li>
                        <li>‚úîÔ∏è –ò–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–æ–π –Ω–∞—Ä—É–∂–Ω–æ–π —Ä–µ–∫–ª–∞–º—ã, –≤—ã–≤–µ—Å–æ–∫, —Ç–∞–±–ª–∏—á–µ–∫</li>
                        <li>‚úîÔ∏è –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –∫–∞–∂–¥–æ–º—É –∑–∞–∫–∞–∑—É</li>
                        <li>‚úîÔ∏è –ì–∏–±–∫–∏–µ —Ü–µ–Ω—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ –æ–±—ä–µ–º–∞</li>
                    {% endfor %}
                </ul>
            </div>

            <!-- –í–∏–¥–µ–æ -->
            <section class="videos-section">
                <h2 class="section-title">–í–∏–¥–µ–æ –ø–æ —Å–µ—Ä–≤–∏—Å—É</h2>
                <div class="videos-wrapper">
                    {% if advertisement.videos.all %}
                        {% for video in advertisement.videos.all %}
                            <video width="320" height="240" controls>
                                <source src="{{ video.video.url }}" type="video/mp4">
                                –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
                            </video>
                            {% if video.title %}
                                <p>{{ video.title }}</p>
                            {% endif %}
                        {% endfor %}
                    {% else %}
                        <p>–í–∏–¥–µ–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç.</p>
                    {% endif %}
                </div>
            </section>

            <div class="margin-button-top">
                <h2 class="section-title">–ù–∞—à–∏ —Ä–∞–±–æ—Ç—ã</h2>
            </div>

            <div class="header-with-icon" style="display: flex; align-items: center; gap: 15px;">
                <img src="{% static 'webapp/icons/sale-discount-svgrepo-com.svg' %}" alt="–õ–∞–∑–µ—Ä–Ω–∞—è —Ä–µ–∑–∫–∞ –ø–æ –º–µ—Ç–∞–ª–ª—É"
                     class="size-icon"/>
                <p style="margin: 0;">–û—Ñ–æ—Ä–º–∏ –∑–∞—è–≤–∫—É —Å —Å–∞–π—Ç–∞ –∏ –ø–æ–ª—É—á–∏ —Å–∫–∏–¥—É!</p>
            </div>

            <div class="ad-examples">
                {% for work in works %}
                    <article class="ad-item">
                        {% if work.photo %}
                            <img src="{{ work.photo.url }}" alt="{{ work.title }}" class="ad-image">
                        {% endif %}
                        <h2>{{ work.title }}</h2>
                        <p>{{ work.description|safe }}</p>
                        <ul class="ad-features-list">
                            <li>{{ work.characteristics|safe }}</li>
                        </ul>
                        <a href="#contacts-with-item" class="margin-button-top btn-all-product">–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</a>
                    </article>
                {% endfor %}
            </div>

            {% if ads %}
                <div class="dynamic-ads">
                    {% for ad in ads %}
                        <article class="ad-item">
                            <img src="{{ ad.image.url }}" alt="{{ ad.title }}" class="ad-image">
                            <h2>{{ ad.title }}</h2>
                            <p>{{ ad.description }}</p>
                            <a href="{% url 'contacts' %}" class="btn btn-primary">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                        </article>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
    </section>

    <div class="gradient-product-detail"></div>
    <!-- –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å —Å–ø—Ä–∞–≤–∞ -->
    <section id="screw-img">
        <div id="contacts-with-item" class="contact-form-container">
            <div class="container">
                <div class="content-wrapper">
                    <h2>üó£ –û–ë–†–ê–¢–ù–ê–Ø –°–í–Ø–ó–¨</h2>
                    <p>–í—ã –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞—Ç—å —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è.</p>

                    <form id="contact-form" action="" method="POST" novalidate>
                        {% csrf_token %}

                        {% if error_message %}
                            <div class="alert alert-danger" style="margin-bottom: 1rem;">
                                {{ error_message }}
                            </div>
                        {% endif %}

                        <div class="form-row-item">
                            <label for="{{ form.name.id_for_label }}">–ò–º—è</label>
                            {{ form.name.errors }}
                            {{ form.name }}
                        </div>

                        <div class="form-row-item">
                            <label for="{{ form.phone.id_for_label }}">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                            {{ form.phone.errors }}
                            {{ form.phone }}
                        </div>

                        <div class="form-row-item">
                            <label for="{{ form.email.id_for_label }}">–ü–æ—á—Ç–∞</label>
                            {{ form.email.errors }}
                            {{ form.email }}
                        </div>

                        <div class="form-row-item">
                            <label for="{{ form.message.id_for_label }}">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                            {{ form.message.errors }}
                            {{ form.message }}
                        </div>

                        <button type="submit" class="btn-submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                    </form>
                </div>
            </div>
        </div>
    </section>
    <div class="gradient-product-detail"></div>

{% endblock %}
