{% extends 'main/base.html' %}
{% load custom_filters %}
{% load static %}

{% block content %}

    <section class="photo-banner">
        {% for main_banner in banner %}
            <div class="photo-banner-content">
                <h2>{{ main_banner.name }}</h2><br>
                <p>{{ main_banner.description|safe }}</p>
                <p>{{ main_banner.phone1 }}<br>{{ main_banner.phone2 }}</p>
                <a href="#" class="btn">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
            </div>
        {% endfor %}
    </section>

    <section id="gallery" class="mb-0">
        {% for row in photose|batch:4 %}
            <div class="photo-row" style="display: flex; gap: 10px; margin-bottom: 20px;">
                {% for item in row %}
                    <div class="photo-item" style="flex: 1;">
                        <img src="{{ item.photo.url }}" alt="{{ item.description }}"
                             style="width: 100%; height: auto; object-fit: cover;">
                        {% if item.description %}
                            <div class="photo-description">{{ item.description }}</div>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
        {% endfor %}
    </section>

    {% for item in items %}
        <section id="screw-spiral" class="item-section">
            <div class="content-wrapper">
                <h2>{{ item.name }}</h2>
                <p>{{ item.description }}</p>
                <p>{{ item.phone1 }}<br>{{ item.phone2 }}</p>
            </div>

            <div class="photo-gallery">
                {% for photo_row in item.photos.all|slice:"0:8"|batch:4 %}
                    <div class="photo-row" style="display: flex; gap: 10px; margin-bottom: 20px;">
                        {% for p in photo_row %}
                            <div class="photo-item" style="flex: 1;">
                                <img src="{{ p.photo.url }}" alt="{{ p.description }}"
                                     style="width: 100%; height: auto; object-fit: cover;">
                                {% if p.description %}
                                    <div class="photo-description">{{ p.description }}</div>
                                {% endif %}
                            </div>
                        {% endfor %}
                    </div>
                {% endfor %}
            </div>
        </section>
        <div class="gradient"></div>
    {% endfor %}

    <div id="engineering" class="d-flex justify-content-between flex-wrap gap-3">
        <div class="block flex-grow-1" style="min-width: 200px;">
            <h2>üë∑üèª‚Äç‚ôÇÔ∏è –ò–ù–ñ–ò–ù–ò–†–ò–ù–ì–û–í–´–ï –£–°–õ–£–ì–ò</h2>
            <p>–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –ø–æ–¥ –í–∞—à–∏ –Ω—É–∂–¥—ã.</p>
        </div>
        <div class="block flex-grow-1" style="min-width: 200px;">
            <h2>üß∞ –û–ë–û–†–£–î–û–í–ê–ù–ò–ï –ù–ê –ó–ê–ö–ê–ó</h2>
            <p>–ü–û–î–ê–¢–ß–ò–ö–ò, –¶–ò–ö–õ–û–ù–´, –î–û–ó–ê–¢–û–†–´</p>
        </div>
        <div class="block flex-grow-1" style="min-width: 200px;">
            <p>–ù–∞—à–∏ —Ç–µ–ª–µ—Ñ–æ–Ω—ã ‚òéÔ∏è <br/>
                <a href="tel:+37529-934-14-62">+37529-934-14-62</a> (A1) <br>
                <a href="tel:+37529-812-49-72">+37529-812-49-72</a> (–ú–¢–°)
            </p>
        </div>
    </div>

    <section id="contacts" class="mb-0">
        <div class="content-wrapper">
            <h2>üó£ –û–ë–†–ê–¢–ù–ê–Ø –°–í–Ø–ó–¨</h2>
            <p>–í—ã –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞—Ç—å —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è.</p>

            <form id="contact-form" action="#" method="POST" novalidate>
                <div class="form-row">
                    <label for="name">–ò–º—è</label>
                    <input type="text" id="name" name="name" required placeholder="–í–∞—à–µ –∏–º—è"/>
                </div>

                <div class="form-row">
                    <label for="phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                    <input type="tel" id="phone" name="phone" required placeholder="+375 (__) ___-__-__"
                           pattern="^\+?\d{7,15}$"/>
                </div>

                <div class="form-row">
                    <label for="email">–ü–æ—á—Ç–∞</label>
                    <input type="email" id="email" name="email" required placeholder="example@mail.com"/>
                </div>

                <div class="form-row">
                    <label for="message">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                    <textarea id="message" name="message" rows="4" placeholder="–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"></textarea>
                </div>

                <button type="submit" class="btn-submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </form>
        </div>
    </section>

    <section id="we-on-map" class="map-section">
        <div class="container">
            <h3 class="map-title">üìå –ú—ã –Ω–∞ –∫–∞—Ä—Ç–µ</h3>
            <div class="map-responsive">
                <iframe
                        frameborder="0"
                        style="border:0"
                        src="https://www.google.com/maps/embed/v1/place?key=AIzaSyCy9r70T3NYf3PhvVflTo0_zdif2_IoIYs&q=place_id:ChIJhwABmUWXxEYRz77Xl2-sbR8"
                        allowfullscreen
                        loading="lazy"
                        referrerpolicy="no-referrer-when-downgrade"
                ></iframe>
            </div>
        </div>
    </section>

{% endblock %}
